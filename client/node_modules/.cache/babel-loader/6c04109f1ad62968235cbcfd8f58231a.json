{"ast":null,"code":"import _defineProperty from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./AlbumDetail.css\";import{useState,useEffect}from\"react\";import Layout from\"../../components/Layout/Layout.jsx\";import{getOneAlbum,addNoteToAlbum}from\"../../services/albums\";import{useParams,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AlbumDetail=function AlbumDetail(_ref){var user=_ref.user,handleLogout=_ref.handleLogout;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),album=_useState2[0],setAlbum=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggle=_useState6[0],setToggle=_useState6[1];var _useState7=useState({title:\"\",desciption:\"\"}),_useState8=_slicedToArray(_useState7,2),review=_useState8[0],setReview=_useState8[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){var fetchAlbum=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var album;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getOneAlbum(id);case 2:album=_context.sent;setAlbum(album);setLoaded(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchAlbum(){return _ref2.apply(this,arguments);};}();fetchAlbum();},[id,toggle]);var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setReview(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return addNoteToAlbum(review,id);case 3:setReview({title:\"\",desciption:\"\"});setToggle(function(prev){return!prev;});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();if(!isLoaded){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});}return/*#__PURE__*/_jsx(Layout,{user:user,handleLogout:handleLogout,children:/*#__PURE__*/_jsx(\"div\",{className:\"album-detail-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"album-detail\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"album-detail-image\",src:album.cover_url,alt:album.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Title: \".concat(album.title)}),/*#__PURE__*/_jsx(\"div\",{className:\"artist\",children:\"Artist: \".concat(album.artist)}),/*#__PURE__*/_jsxs(\"div\",{className:\"genre\",children:[\" \",\"Genre: \".concat(album.genre)]}),/*#__PURE__*/_jsx(\"div\",{className:\"vendor\",children:\"Vendor: \".concat(album.vendor)}),/*#__PURE__*/_jsx(\"div\",{className:\"condition\",children:\"Condition: \".concat(album.condition)}),/*#__PURE__*/_jsx(\"div\",{className:\"cost\",children:\"Cost: \".concat(album.cost)}),/*#__PURE__*/_jsx(\"div\",{className:\"purchased\",children:\"Purchase Date: \".concat(album.purchased)}),/*#__PURE__*/_jsx(\"div\",{className:\"released\",children:\"Release Date: \".concat(album.released)}),/*#__PURE__*/_jsx(\"div\",{className:\"album-detail-button-div\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{className:\"album-detail-edit-button\",to:\"/albums/\".concat(album.id,\"/edit\"),children:\"Edit Album\"})})})})]})]})})});};export default AlbumDetail;","map":{"version":3,"sources":["/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/src/screens/AlbumDetail/AlbumDetail.jsx"],"names":["useState","useEffect","Layout","getOneAlbum","addNoteToAlbum","useParams","Link","AlbumDetail","user","handleLogout","album","setAlbum","isLoaded","setLoaded","toggle","setToggle","title","desciption","review","setReview","id","fetchAlbum","handleChange","e","target","name","value","prev","handleSubmit","preventDefault","cover_url","artist","genre","vendor","condition","cost","purchased","released"],"mappings":"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","sourcesContent":["import \"./AlbumDetail.css\";\nimport { useState, useEffect } from \"react\";\nimport Layout from \"../../components/Layout/Layout.jsx\";\nimport { getOneAlbum, addNoteToAlbum } from \"../../services/albums\";\nimport { useParams, Link } from \"react-router-dom\";\n\nconst AlbumDetail = ({ user, handleLogout }) => {\n  const [album, setAlbum] = useState(null);\n  const [isLoaded, setLoaded] = useState(false);\n  const [toggle, setToggle] = useState(false);\n  const [review, setReview] = useState({\n    title: \"\",\n    desciption: \"\",\n  });\n\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchAlbum = async () => {\n      const album = await getOneAlbum(id);\n      setAlbum(album);\n      setLoaded(true);\n    };\n    fetchAlbum();\n  }, [id, toggle]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setReview((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await addNoteToAlbum(review, id);\n    setReview({\n      title: \"\",\n      desciption: \"\",\n    });\n    setToggle((prev) => !prev);\n  };\n\n  if (!isLoaded) {\n    return <h1>Loading...</h1>;\n  }\n\n  return (\n    <Layout user={user} handleLogout={handleLogout}>\n      <div className=\"album-detail-container\">\n       \n        <div className=\"album-detail\">\n          <img\n            className=\"album-detail-image\"\n            src={album.cover_url}\n            alt={album.title}\n          />\n          <div className=\"detail\">\n            <div className=\"title\">{`Title: ${album.title}`}</div>\n            <div className=\"artist\">{`Artist: ${album.artist}`}</div>\n            <div className=\"genre\"> {`Genre: ${album.genre}`}</div>\n            <div className=\"vendor\">{`Vendor: ${album.vendor}`}</div>\n            <div className=\"condition\">{`Condition: ${album.condition}`}</div>\n            <div className=\"cost\">{`Cost: ${album.cost}`}</div>\n            <div className=\"purchased\">{`Purchase Date: ${album.purchased}`}</div>\n            <div className=\"released\">{`Release Date: ${album.released}`}</div>\n            <div className=\"album-detail-button-div\">\n              <div className=\"button-container\">\n                <button>\n                  <Link className=\"album-detail-edit-button\" to={`/albums/${album.id}/edit`}>\n                    Edit Album\n                  </Link>\n                </button>\n              </div>\n            </div>\n            </div>\n        \n          </div>\n          </div>\n\n    \n\n      \n        \n    </Layout>\n  );\n};\n\nexport default AlbumDetail;\n"]},"metadata":{},"sourceType":"module"}