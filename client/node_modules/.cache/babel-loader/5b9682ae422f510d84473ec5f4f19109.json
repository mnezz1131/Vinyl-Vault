{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./SignUp.css\";import{useState}from\"react\";import Layout from\"../../components/Layout/Layout.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUp=function SignUp(_ref){var user=_ref.user,handleLogout=_ref.handleLogout,handleRegister=_ref.handleRegister;var _useState=useState({username:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",isError:false,errorMsg:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleChange=function handleChange(event){return setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});};var onSignUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;if(!(password===passwordConfirmation)){_context.next=7;break;}_context.next=5;return handleRegister(form);case 5:_context.next=8;break;case 7:throw new Error(\"Passwords do not match\");case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setForm({username:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",isError:true,errorMsg:\"Sign Up Details Invalid\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function onSignUp(_x){return _ref2.apply(this,arguments);};}();var renderError=function renderError(){var toggleForm=form.isError?\"danger\":\"\";if(form.isError){return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:toggleForm,children:form.errorMsg});}else{return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"});}};var username=form.username,email=form.email,password=form.password,passwordConfirmation=form.passwordConfirmation;return/*#__PURE__*/_jsx(Layout,{user:user,handleLogout:handleLogout,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSignUp,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"username\",value:username,placeholder:\"Enter username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\",name:\"email\",value:email,placeholder:\"Enter email\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"password\",value:password,type:\"password\",placeholder:\"Password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"passwordConfirmation\",value:passwordConfirmation,type:\"password\",placeholder:\"Confirm Password\",onChange:handleChange}),renderError()]})]})});};export default SignUp;","map":{"version":3,"sources":["/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/src/screens/SignUp/SignUp.jsx"],"names":["useState","Layout","SignUp","user","handleLogout","handleRegister","username","email","password","passwordConfirmation","isError","errorMsg","form","setForm","handleChange","event","prev","target","name","value","onSignUp","preventDefault","Error","console","error","renderError","toggleForm"],"mappings":"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","sourcesContent":["import \"./SignUp.css\";\nimport { useState } from \"react\";\nimport Layout from \"../../components/Layout/Layout.jsx\";\n\nconst SignUp = ({ user, handleLogout, handleRegister }) => {\n\n  const [form, setForm] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    isError: false,\n    errorMsg: \"\",\n  });\n\n  const handleChange = (event) =>\n    setForm((prev) => ({\n      ...prev,\n      [event.target.name]: event.target.value,\n    }));\n\n  const onSignUp = async (event) => {\n    event.preventDefault();\n\n    try {\n      if (password === passwordConfirmation) {\n        await handleRegister(form);\n      } else {\n        throw new Error(\"Passwords do not match\");\n      }\n    } catch (error) {\n      console.error(error);\n      setForm({\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        passwordConfirmation: \"\",\n        isError: true,\n        errorMsg: \"Sign Up Details Invalid\",\n      });\n    }\n  };\n\n  const renderError = () => {\n    const toggleForm = form.isError ? \"danger\" : \"\";\n    if (form.isError) {\n      return (\n        <button type=\"submit\" className={toggleForm}>\n          {form.errorMsg}\n        </button>\n      );\n    } else {\n      return <button type=\"submit\">Sign Up</button>;\n    }\n  };\n\n  const { username, email, password, passwordConfirmation } = form;\n\n  return (\n    <Layout user={user} handleLogout={handleLogout}>\n      <div className=\"form-container\">\n        <h3>Sign Up</h3>\n        <form onSubmit={onSignUp}>\n          <label>Username</label>\n          <input\n            required\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            placeholder=\"Enter username\"\n            onChange={handleChange}\n          />\n          <label>Email address</label>\n          <input\n            required\n            type=\"email\"\n            name=\"email\"\n            value={email}\n            placeholder=\"Enter email\"\n            onChange={handleChange}\n          />\n          <label>Password</label>\n          <input\n            required\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n          />\n          <label>Password Confirmation</label>\n          <input\n            required\n            name=\"passwordConfirmation\"\n            value={passwordConfirmation}\n            type=\"password\"\n            placeholder=\"Confirm Password\"\n            onChange={handleChange}\n          />\n          {renderError()}\n        </form>\n      </div>\n    </Layout>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}