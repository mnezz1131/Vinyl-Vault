{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import\"./SignIn.css\";import Layout from\"../../components/Layout/Layout.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(_ref){var user=_ref.user,handleLogin=_ref.handleLogin,handleLogout=_ref.handleLogout;var _useState=useState({username:\"\",password:\"\",isError:false,errorMsg:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var handleChange=function handleChange(event){setForm(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},event.target.name,event.target.value));});};var onSignIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return handleLogin(form);case 4:_context.next=10;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setForm({isError:true,errorMsg:\"Invalid Credentials\",username:\"\",password:\"\"});case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,6]]);}));return function onSignIn(_x){return _ref2.apply(this,arguments);};}();var renderError=function renderError(){var toggleForm=form.isError?\"danger\":\"\";if(form.isError){return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:toggleForm,children:form.errorMsg});}else{return/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign In\"});}};var username=form.username,password=form.password;return/*#__PURE__*/_jsx(Layout,{user:user,handleLogout:handleLogout,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSignIn,children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",name:\"username\",value:username,placeholder:\"Enter User Name\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"password\",value:password,type:\"password\",placeholder:\"Password\",onChange:handleChange}),renderError()]})]})});};","map":{"version":3,"sources":["/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/src/screens/SignIn/SignIn.jsx"],"names":["useState","Layout","SignIn","user","handleLogin","handleLogout","username","password","isError","errorMsg","form","setForm","handleChange","event","prev","target","name","value","onSignIn","preventDefault","console","error","renderError","toggleForm"],"mappings":"qrBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,MAAqD,IAAnCC,CAAAA,IAAmC,MAAnCA,IAAmC,CAA7BC,WAA6B,MAA7BA,WAA6B,CAAhBC,YAAgB,MAAhBA,YAAgB,CAElE,cAAwBL,QAAQ,CAAC,CAC/BM,QAAQ,CAAE,EADqB,CAE/BC,QAAQ,CAAE,EAFqB,CAG/BC,OAAO,CAAE,KAHsB,CAI/BC,QAAQ,CAAE,EAJqB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9BF,OAAO,CAAC,SAAAG,IAAI,wCACPA,IADO,wBAETD,KAAK,CAACE,MAAN,CAAaC,IAFJ,CAEWH,KAAK,CAACE,MAAN,CAAaE,KAFxB,IAAL,CAAP,CAID,CALD,CAOA,GAAMC,CAAAA,QAAQ,2FAAG,iBAAOL,KAAP,kHACfA,KAAK,CAACM,cAAN,GADe,sCAGPf,CAAAA,WAAW,CAACM,IAAD,CAHJ,uFAKbU,OAAO,CAACC,KAAR,cACAV,OAAO,CAAC,CACNH,OAAO,CAAE,IADH,CAENC,QAAQ,CAAE,qBAFJ,CAGNH,QAAQ,CAAE,EAHJ,CAINC,QAAQ,CAAE,EAJJ,CAAD,CAAP,CANa,oEAAH,kBAARW,CAAAA,QAAQ,6CAAd,CAeA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,UAAU,CAAGb,IAAI,CAACF,OAAL,CAAe,QAAf,CAA0B,EAA7C,CACA,GAAIE,IAAI,CAACF,OAAT,CAAkB,CAChB,mBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAEe,UAAjC,UACGb,IAAI,CAACD,QADR,EADF,CAKD,CAND,IAMO,CACL,mBAAO,eAAQ,IAAI,CAAC,QAAb,qBAAP,CACD,CACF,CAXD,CAaA,GAAQH,CAAAA,QAAR,CAA+BI,IAA/B,CAAQJ,QAAR,CAAkBC,QAAlB,CAA+BG,IAA/B,CAAkBH,QAAlB,CAEA,mBACE,KAAC,MAAD,EAAQ,IAAI,CAAEJ,IAAd,CAAoB,YAAY,CAAEE,YAAlC,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,+BADF,cAEE,cAAM,QAAQ,CAAEa,QAAhB,wBACE,oCADF,cAEE,cACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAEZ,QAJT,CAKE,WAAW,CAAC,iBALd,CAME,QAAQ,CAAEM,YANZ,EAFF,cAUE,mCAVF,cAWE,cACE,QAAQ,KADV,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEL,QAHT,CAIE,IAAI,CAAC,UAJP,CAKE,WAAW,CAAC,UALd,CAME,QAAQ,CAAEK,YANZ,EAXF,CAmBGU,WAAW,EAnBd,GAFF,GADF,EADF,CA4BD","sourcesContent":["import { useState } from \"react\";\nimport \"./SignIn.css\";\nimport Layout from \"../../components/Layout/Layout.jsx\";\n\nexport default function SignIn({ user, handleLogin, handleLogout }) {\n\n  const [form, setForm] = useState({\n    username: \"\",\n    password: \"\",\n    isError: false,\n    errorMsg: \"\",\n  });\n\n  const handleChange = (event) => {\n    setForm(prev=>({\n      ...prev,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  const onSignIn = async (event) => {\n    event.preventDefault();\n    try {\n      await handleLogin(form);\n    } catch (error) {\n      console.error(error);\n      setForm({\n        isError: true,\n        errorMsg: \"Invalid Credentials\",\n        username: \"\",\n        password: \"\",\n      });\n    }\n  };\n\n  const renderError = () => {\n    const toggleForm = form.isError ? \"danger\" : \"\";\n    if (form.isError) {\n      return (\n        <button type=\"submit\" className={toggleForm}>\n          {form.errorMsg}\n        </button>\n      );\n    } else {\n      return <button type=\"submit\">Sign In</button>;\n    }\n  };\n\n  const { username, password } = form;\n\n  return (\n    <Layout user={user} handleLogout={handleLogout}>\n      <div className=\"form-container\">\n        <h3>Sign In</h3>\n        <form onSubmit={onSignIn}>\n          <label>User Name</label>\n          <input\n            required\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            placeholder=\"Enter User Name\"\n            onChange={handleChange}\n          />\n          <label>Password</label>\n          <input\n            required\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={handleChange}\n          />\n          {renderError()}\n        </form>\n      </div>\n    </Layout>\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}