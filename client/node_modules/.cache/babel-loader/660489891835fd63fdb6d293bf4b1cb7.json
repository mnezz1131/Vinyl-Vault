{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import api from'./apiConfig';export var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(loginData){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.post('/auth/login',{authentication:loginData});case 2:resp=_context.sent;localStorage.setItem('authToken',resp.data.token);api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.token);return _context.abrupt(\"return\",resp.data.user);case 6:case\"end\":return _context.stop();}}},_callee);}));return function loginUser(_x){return _ref.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(registerData){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.post('/users',{user:registerData});case 2:resp=_context2.sent;localStorage.setItem('authToken',resp.data.token);api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.token);return _context2.abrupt(\"return\",resp.data.user);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function registerUser(_x2){return _ref2.apply(this,arguments);};}();export var verifyUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=localStorage.getItem('authToken');if(!token){_context3.next=7;break;}api.defaults.headers.common.authorization=\"Bearer \".concat(token);_context3.next=5;return api.get('/auth/verify');case 5:resp=_context3.sent;return _context3.abrupt(\"return\",resp.data);case 7:return _context3.abrupt(\"return\",null);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function verifyUser(){return _ref3.apply(this,arguments);};}();export var removeToken=function removeToken(){api.defaults.headers.common.authorization=null;};","map":{"version":3,"sources":["/Users/mikenezzer/Desktop/vinyl_vault/Vinyl-Vault/client/src/services/auth.js"],"names":["api","loginUser","loginData","post","authentication","resp","localStorage","setItem","data","token","defaults","headers","common","authorization","user","registerUser","registerData","verifyUser","getItem","get","removeToken"],"mappings":"mRACA,MAAOA,CAAAA,GAAP,KAAgB,aAAhB,CAEA,MAAO,IAAMC,CAAAA,SAAS,0FAAG,iBAAOC,SAAP,iJACJF,CAAAA,GAAG,CAACG,IAAJ,CAAS,aAAT,CAAwB,CAAEC,cAAc,CAAEF,SAAlB,CAAxB,CADI,QACjBG,IADiB,eAEvBC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCF,IAAI,CAACG,IAAL,CAAUC,KAA5C,EACAT,GAAG,CAACU,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,kBAAsDR,IAAI,CAACG,IAAL,CAAUC,KAAhE,EAHuB,gCAIhBJ,IAAI,CAACG,IAAL,CAAUM,IAJM,wDAAH,kBAATb,CAAAA,SAAS,4CAAf,CAOP,MAAO,IAAMc,CAAAA,YAAY,2FAAG,kBAAOC,YAAP,sJACPhB,CAAAA,GAAG,CAACG,IAAJ,CAAS,QAAT,CAAmB,CAAEW,IAAI,CAAEE,YAAR,CAAnB,CADO,QACpBX,IADoB,gBAE1BC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCF,IAAI,CAACG,IAAL,CAAUC,KAA5C,EACAT,GAAG,CAACU,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,kBAAsDR,IAAI,CAACG,IAAL,CAAUC,KAAhE,EAH0B,iCAInBJ,IAAI,CAACG,IAAL,CAAUM,IAJS,0DAAH,kBAAZC,CAAAA,YAAY,8CAAlB,CAOP,MAAO,IAAME,CAAAA,UAAU,2FAAG,uJAClBR,KADkB,CACVH,YAAY,CAACY,OAAb,CAAqB,WAArB,CADU,KAEpBT,KAFoB,0BAGtBT,GAAG,CAACU,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,kBAAsDJ,KAAtD,EAHsB,uBAIHT,CAAAA,GAAG,CAACmB,GAAJ,CAAQ,cAAR,CAJG,QAIhBd,IAJgB,iDAKfA,IAAI,CAACG,IALU,0CAOjB,IAPiB,0DAAH,kBAAVS,CAAAA,UAAU,2CAAhB,CAUP,MAAO,IAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/BpB,GAAG,CAACU,QAAJ,CAAaC,OAAb,CAAqBC,MAArB,CAA4BC,aAA5B,CAA4C,IAA5C,CACD,CAFM","sourcesContent":["\nimport api from './apiConfig';\n\nexport const loginUser = async (loginData) => {\n  const resp = await api.post('/auth/login', { authentication: loginData });\n  localStorage.setItem('authToken', resp.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`;\n  return resp.data.user;\n};\n\nexport const registerUser = async (registerData) => {\n  const resp = await api.post('/users', { user: registerData });\n  localStorage.setItem('authToken', resp.data.token);\n  api.defaults.headers.common.authorization = `Bearer ${resp.data.token}`;\n  return resp.data.user;\n};\n\nexport const verifyUser = async () => {\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    api.defaults.headers.common.authorization = `Bearer ${token}`;\n    const resp = await api.get('/auth/verify');\n    return resp.data;\n  }\n  return null;\n};\n\nexport const removeToken = () => {\n  api.defaults.headers.common.authorization = null;\n};\n"]},"metadata":{},"sourceType":"module"}